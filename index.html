
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PharmApp - Pharmacy Education Platform</title>
    <meta name="description" content="Your Pharmacy Education Platform">
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'pharm-blue': {
                            50: '#eff6ff',
                            100: '#dbeafe',
                            200: '#bfdbfe',
                            300: '#93c5fd',
                            400: '#60a5fa',
                            500: '#3b82f6',
                            600: '#2563eb',
                            700: '#1d4ed8',
                            800: '#1e40af',
                            900: '#1e3a8a'
                        }
                    },
                    animation: {
                        'fade-in': 'fadeIn 0.3s ease-out',
                        'glow': 'glow 2s ease-in-out infinite alternate',
                        'float': 'float 3s ease-in-out infinite'
                    },
                    keyframes: {
                        fadeIn: {
                            '0%': { opacity: '0', transform: 'translateY(10px)' },
                            '100%': { opacity: '1', transform: 'translateY(0)' }
                        },
                        glow: {
                            '0%': { boxShadow: '0 0 20px rgba(59, 130, 246, 0.5)' },
                            '100%': { boxShadow: '0 0 30px rgba(59, 130, 246, 0.8)' }
                        },
                        float: {
                            '0%, 100%': { transform: 'translateY(0px)' },
                            '50%': { transform: 'translateY(-10px)' }
                        }
                    }
                }
            }
        }
    </script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #dbeafe 0%, #f9fafb 50%, #bfdbfe 100%);
            min-height: 100vh;
        }
        
        .glass-card {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.25);
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
        }
        
        .neomorphic {
            background: linear-gradient(135deg, #f9fafb 0%, #f3f4f6 100%);
            box-shadow: 8px 8px 16px #d1d9e6, -8px -8px 16px #f7f7f7;
        }
        
        .neomorphic-inset {
            background: linear-gradient(135deg, #f3f4f6 0%, #f9fafb 100%);
            box-shadow: inset 8px 8px 16px #d1d9e6, inset -8px -8px 16px #f7f7f7;
        }
        
        .pharm-gradient {
            background: linear-gradient(90deg, #3b82f6 0%, #2563eb 100%);
        }
        
        .pharm-gradient-hover:hover {
            background: linear-gradient(90deg, #2563eb 0%, #1d4ed8 100%);
        }
        
        .tab-active {
            background: linear-gradient(90deg, #3b82f6 0%, #2563eb 100%) !important;
            color: white !important;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, createContext, useContext } = React;

        // Toast Context
        const ToastContext = createContext();

        const ToastProvider = ({ children }) => {
            const [toasts, setToasts] = useState([]);

            const toast = ({ title, description, variant = 'default' }) => {
                const id = Date.now();
                const newToast = { id, title, description, variant };
                setToasts(prev => [...prev, newToast]);
                
                setTimeout(() => {
                    setToasts(prev => prev.filter(t => t.id !== id));
                }, 5000);
            };

            return (
                <ToastContext.Provider value={{ toast }}>
                    {children}
                    <div className="fixed top-4 right-4 z-50 space-y-2">
                        {toasts.map(toast => (
                            <div key={toast.id} className={`p-4 rounded-lg shadow-lg max-w-sm animate-fade-in ${
                                toast.variant === 'destructive' 
                                    ? 'bg-red-500 text-white' 
                                    : 'bg-white border border-gray-200'
                            }`}>
                                <div className="font-semibold">{toast.title}</div>
                                <div className="text-sm opacity-90">{toast.description}</div>
                            </div>
                        ))}
                    </div>
                </ToastContext.Provider>
            );
        };

        const useToast = () => {
            const context = useContext(ToastContext);
            if (!context) throw new Error('useToast must be used within ToastProvider');
            return context;
        };

        // UI Components
        const Button = ({ children, onClick, className = '', type = 'button', variant = 'default' }) => {
            const baseClasses = 'px-4 py-2 rounded-md font-medium transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2';
            const variantClasses = variant === 'outline' 
                ? 'border border-gray-300 bg-white text-gray-700 hover:bg-gray-50' 
                : '';
            
            return (
                <button 
                    type={type}
                    onClick={onClick} 
                    className={`${baseClasses} ${variantClasses} ${className}`}
                >
                    {children}
                </button>
            );
        };

        const Input = ({ className = '', ...props }) => (
            <input 
                className={`w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent ${className}`}
                {...props} 
            />
        );

        const Label = ({ children, htmlFor, className = '' }) => (
            <label htmlFor={htmlFor} className={`block text-sm font-medium text-gray-700 mb-1 ${className}`}>
                {children}
            </label>
        );

        const Card = ({ children, className = '' }) => (
            <div className={`rounded-lg ${className}`}>
                {children}
            </div>
        );

        const CardHeader = ({ children, className = '' }) => (
            <div className={`p-6 ${className}`}>
                {children}
            </div>
        );

        const CardTitle = ({ children, className = '' }) => (
            <h3 className={`text-lg font-semibold ${className}`}>
                {children}
            </h3>
        );

        const CardDescription = ({ children, className = '' }) => (
            <p className={`text-sm text-gray-600 mt-1 ${className}`}>
                {children}
            </p>
        );

        const CardContent = ({ children, className = '' }) => (
            <div className={`p-6 pt-0 ${className}`}>
                {children}
            </div>
        );

        const Select = ({ value, onValueChange, children, placeholder }) => {
            const [isOpen, setIsOpen] = useState(false);
            
            return (
                <div className="relative">
                    <button
                        type="button"
                        onClick={() => setIsOpen(!isOpen)}
                        className="w-full px-3 py-2 text-left border border-gray-300 rounded-md bg-white focus:outline-none focus:ring-2 focus:ring-blue-500"
                    >
                        {value || placeholder || 'Select...'}
                        <span className="float-right">▼</span>
                    </button>
                    {isOpen && (
                        <div className="absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-md shadow-lg">
                            {React.Children.map(children, child =>
                                React.cloneElement(child, {
                                    onClick: () => {
                                        onValueChange(child.props.value);
                                        setIsOpen(false);
                                    }
                                })
                            )}
                        </div>
                    )}
                </div>
            );
        };

        const SelectItem = ({ value, children, onClick }) => (
            <div 
                className="px-3 py-2 cursor-pointer hover:bg-gray-100"
                onClick={onClick}
            >
                {children}
            </div>
        );

        const Tabs = ({ defaultValue, children, className = '' }) => {
            const [activeTab, setActiveTab] = useState(defaultValue);
            
            return (
                <div className={className}>
                    {React.Children.map(children, child =>
                        React.cloneElement(child, { activeTab, setActiveTab })
                    )}
                </div>
            );
        };

        const TabsList = ({ children, className = '', activeTab, setActiveTab }) => (
            <div className={`flex ${className}`}>
                {React.Children.map(children, child =>
                    React.cloneElement(child, { activeTab, setActiveTab })
                )}
            </div>
        );

        const TabsTrigger = ({ value, children, className = '', activeTab, setActiveTab }) => (
            <button
                onClick={() => setActiveTab(value)}
                className={`flex-1 px-4 py-2 text-sm font-medium rounded-md transition-colors ${
                    activeTab === value ? 'tab-active' : 'text-gray-600 hover:text-gray-800'
                } ${className}`}
            >
                {children}
            </button>
        );

        const TabsContent = ({ value, children, className = '', activeTab }) => (
            activeTab === value ? <div className={className}>{children}</div> : null
        );

        const Badge = ({ children, className = '', variant = 'default' }) => {
            const variantClasses = variant === 'outline' 
                ? 'border border-gray-300 text-gray-700'
                : variant === 'secondary'
                ? 'bg-gray-100 text-gray-800'
                : 'bg-blue-100 text-blue-800';
                
            return (
                <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${variantClasses} ${className}`}>
                    {children}
                </span>
            );
        };

        // Icons (simplified versions)
        const CalendarIcon = ({ className = '' }) => (
            <svg className={`w-4 h-4 ${className}`} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
            </svg>
        );

        const DownloadIcon = ({ className = '' }) => (
            <svg className={`w-4 h-4 ${className}`} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
            </svg>
        );

        const VideoIcon = ({ className = '' }) => (
            <svg className={`w-4 h-4 ${className}`} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z" />
            </svg>
        );

        const BookOpenIcon = ({ className = '' }) => (
            <svg className={`w-4 h-4 ${className}`} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253" />
            </svg>
        );

        const ClockIcon = ({ className = '' }) => (
            <svg className={`w-4 h-4 ${className}`} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
            </svg>
        );

        const UserIcon = ({ className = '' }) => (
            <svg className={`w-4 h-4 ${className}`} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
            </svg>
        );

        const UsersIcon = ({ className = '' }) => (
            <svg className={`w-4 h-4 ${className}`} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z" />
            </svg>
        );

        const UploadIcon = ({ className = '' }) => (
            <svg className={`w-4 h-4 ${className}`} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12" />
            </svg>
        );

        // Main Components
        const AuthForm = ({ onLogin }) => {
            const [loginForm, setLoginForm] = useState({ username: '', password: '', yearGroup: '', role: 'student' });
            const [registerForm, setRegisterForm] = useState({ username: '', password: '', confirmPassword: '', yearGroup: '' });
            const { toast } = useToast();

            const yearGroups = ['Pharm D1', 'Pharm D2', 'Pharm D3', 'Pharm D4', 'Pharm D5', 'Pharm D6'];

            const handleLogin = (e) => {
                e.preventDefault();
                
                if (loginForm.role === 'admin' && loginForm.password === 'admin123') {
                    if (!loginForm.yearGroup) {
                        toast({
                            title: "Error",
                            description: "Please select a year group for admin access",
                            variant: "destructive"
                        });
                        return;
                    }
                    onLogin({
                        username: 'Admin',
                        password: loginForm.password,
                        yearGroup: loginForm.yearGroup,
                        role: 'admin'
                    });
                    toast({
                        title: "Welcome Admin!",
                        description: `Logged in as admin for ${loginForm.yearGroup}`,
                    });
                } else if (loginForm.role === 'student') {
                    const storedUsers = JSON.parse(localStorage.getItem('pharmapp_users') || '[]');
                    const user = storedUsers.find(u => u.username === loginForm.username && u.password === loginForm.password);
                    
                    if (user) {
                        onLogin(user);
                        toast({
                            title: "Welcome back!",
                            description: "Logged in successfully",
                        });
                    } else {
                        toast({
                            title: "Login Failed",
                            description: "Invalid username or password",
                            variant: "destructive"
                        });
                    }
                } else {
                    toast({
                        title: "Login Failed",
                        description: "Invalid credentials",
                        variant: "destructive"
                    });
                }
            };

            const handleRegister = (e) => {
                e.preventDefault();
                
                if (registerForm.password !== registerForm.confirmPassword) {
                    toast({
                        title: "Error",
                        description: "Passwords do not match",
                        variant: "destructive"
                    });
                    return;
                }

                if (!registerForm.yearGroup) {
                    toast({
                        title: "Error", 
                        description: "Please select a year group",
                        variant: "destructive"
                    });
                    return;
                }

                const newUser = {
                    username: registerForm.username,
                    password: registerForm.password,
                    yearGroup: registerForm.yearGroup,
                    role: 'student'
                };

                const storedUsers = JSON.parse(localStorage.getItem('pharmapp_users') || '[]');
                storedUsers.push(newUser);
                localStorage.setItem('pharmapp_users', JSON.stringify(storedUsers));

                toast({
                    title: "Registration Successful!",
                    description: "You can now login with your credentials",
                });

                setRegisterForm({ username: '', password: '', confirmPassword: '', yearGroup: '' });
            };

            return (
                <div className="min-h-screen flex items-center justify-center p-4">
                    <div className="w-full max-w-md">
                        <div className="text-center mb-8 animate-fade-in">
                            <div className="inline-flex items-center justify-center w-20 h-20 rounded-full pharm-gradient mb-4 animate-glow">
                                <span className="text-2xl font-bold text-white">Rx</span>
                            </div>
                            <h1 className="text-4xl font-bold text-pharm-blue-800 mb-2">PharmApp</h1>
                            <p className="text-pharm-blue-600">Your Pharmacy Education Platform</p>
                        </div>

                        <Card className="glass-card neomorphic">
                            <CardHeader className="text-center">
                                <CardTitle className="text-2xl text-pharm-blue-800">Welcome</CardTitle>
                                <CardDescription>Access your pharmacy education portal</CardDescription>
                            </CardHeader>
                            <CardContent>
                                <Tabs defaultValue="login" className="w-full">
                                    <TabsList className="grid w-full grid-cols-2 neomorphic">
                                        <TabsTrigger value="login">Login</TabsTrigger>
                                        <TabsTrigger value="register">Register</TabsTrigger>
                                    </TabsList>

                                    <TabsContent value="login" className="space-y-4 mt-4">
                                        <form onSubmit={handleLogin} className="space-y-4">
                                            <div className="space-y-2">
                                                <Label>Role</Label>
                                                <Select value={loginForm.role} onValueChange={(value) => setLoginForm({...loginForm, role: value})}>
                                                    <SelectItem value="student">Student</SelectItem>
                                                    <SelectItem value="admin">Admin</SelectItem>
                                                </Select>
                                            </div>

                                            {loginForm.role === 'student' && (
                                                <div className="space-y-2">
                                                    <Label htmlFor="username">Username</Label>
                                                    <Input
                                                        id="username"
                                                        type="text"
                                                        value={loginForm.username}
                                                        onChange={(e) => setLoginForm({...loginForm, username: e.target.value})}
                                                        className="neomorphic-inset"
                                                        required
                                                    />
                                                </div>
                                            )}

                                            <div className="space-y-2">
                                                <Label htmlFor="password">Password</Label>
                                                <Input
                                                    id="password"
                                                    type="password"
                                                    value={loginForm.password}
                                                    onChange={(e) => setLoginForm({...loginForm, password: e.target.value})}
                                                    className="neomorphic-inset"
                                                    required
                                                />
                                            </div>

                                            {loginForm.role === 'admin' && (
                                                <div className="space-y-2">
                                                    <Label>Year Group</Label>
                                                    <Select value={loginForm.yearGroup} onValueChange={(value) => setLoginForm({...loginForm, yearGroup: value})} placeholder="Select year group">
                                                        {yearGroups.map((year) => (
                                                            <SelectItem key={year} value={year}>{year}</SelectItem>
                                                        ))}
                                                    </Select>
                                                </div>
                                            )}

                                            <Button type="submit" className="w-full pharm-gradient pharm-gradient-hover text-white neomorphic">
                                                Login
                                            </Button>
                                        </form>
                                    </TabsContent>

                                    <TabsContent value="register" className="space-y-4 mt-4">
                                        <form onSubmit={handleRegister} className="space-y-4">
                                            <div className="space-y-2">
                                                <Label htmlFor="reg-username">Username</Label>
                                                <Input
                                                    id="reg-username"
                                                    type="text"
                                                    value={registerForm.username}
                                                    onChange={(e) => setRegisterForm({...registerForm, username: e.target.value})}
                                                    className="neomorphic-inset"
                                                    required
                                                />
                                            </div>

                                            <div className="space-y-2">
                                                <Label htmlFor="reg-password">Password</Label>
                                                <Input
                                                    id="reg-password"
                                                    type="password"
                                                    value={registerForm.password}
                                                    onChange={(e) => setRegisterForm({...registerForm, password: e.target.value})}
                                                    className="neomorphic-inset"
                                                    required
                                                />
                                            </div>

                                            <div className="space-y-2">
                                                <Label htmlFor="confirm-password">Confirm Password</Label>
                                                <Input
                                                    id="confirm-password"
                                                    type="password"
                                                    value={registerForm.confirmPassword}
                                                    onChange={(e) => setRegisterForm({...registerForm, confirmPassword: e.target.value})}
                                                    className="neomorphic-inset"
                                                    required
                                                />
                                            </div>

                                            <div className="space-y-2">
                                                <Label>Year Group</Label>
                                                <Select value={registerForm.yearGroup} onValueChange={(value) => setRegisterForm({...registerForm, yearGroup: value})} placeholder="Select your year group">
                                                    {yearGroups.map((year) => (
                                                        <SelectItem key={year} value={year}>{year}</SelectItem>
                                                    ))}
                                                </Select>
                                            </div>

                                            <Button type="submit" className="w-full pharm-gradient pharm-gradient-hover text-white neomorphic">
                                                Register
                                            </Button>
                                        </form>
                                    </TabsContent>
                                </Tabs>
                            </CardContent>
                        </Card>
                    </div>
                </div>
            );
        };

        const StudentDashboard = ({ user, onLogout }) => {
            const [timetable, setTimetable] = useState([]);
            const [files, setFiles] = useState([]);
            const { toast } = useToast();

            useEffect(() => {
                const storedTimetable = JSON.parse(localStorage.getItem(`timetable_${user.yearGroup}`) || '[]');
                setTimetable(storedTimetable);

                const storedFiles = JSON.parse(localStorage.getItem(`files_${user.yearGroup}`) || '[]');
                setFiles(storedFiles);
            }, [user.yearGroup]);

            const joinConference = () => {
                toast({
                    title: "Joining Conference",
                    description: "Connecting you to the live session...",
                });
            };

            const downloadFile = (fileName) => {
                toast({
                    title: "Downloading",
                    description: `Downloading ${fileName}...`,
                });
            };

            const getCurrentDayClasses = () => {
                const today = new Date().toLocaleDateString('en-US', { weekday: 'long' });
                return timetable.filter(entry => entry.day.toLowerCase() === today.toLowerCase());
            };

            const todayClasses = getCurrentDayClasses();

            return (
                <div className="min-h-screen p-6">
                    <div className="max-w-7xl mx-auto">
                        {/* Header */}
                        <div className="flex justify-between items-center mb-8">
                            <div className="flex items-center space-x-4">
                                <div className="w-12 h-12 rounded-full pharm-gradient flex items-center justify-center animate-glow">
                                    <span className="text-xl font-bold text-white">Rx</span>
                                </div>
                                <div>
                                    <h1 className="text-3xl font-bold text-pharm-blue-800">Student Portal</h1>
                                    <p className="text-pharm-blue-600">Welcome back, {user.username}</p>
                                </div>
                            </div>
                            <div className="flex items-center space-x-4">
                                <Badge className="pharm-gradient text-white px-3 py-1">
                                    {user.yearGroup}
                                </Badge>
                                <div className="flex items-center space-x-2">
                                    <div className="w-3 h-3 bg-green-500 rounded-full animate-pulse"></div>
                                    <span className="text-sm text-gray-500">Online</span>
                                </div>
                                <Button onClick={onLogout} variant="outline" className="neomorphic">
                                    Logout
                                </Button>
                            </div>
                        </div>

                        {/* Quick Stats */}
                        <div className="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
                            <Card className="glass-card neomorphic hover:animate-float transition-all duration-300">
                                <CardContent className="p-6">
                                    <div className="flex items-center space-x-4">
                                        <ClockIcon className="h-8 w-8 text-pharm-blue-500" />
                                        <div>
                                            <p className="text-sm text-gray-500">Today's Classes</p>
                                            <p className="text-2xl font-bold text-pharm-blue-800">{todayClasses.length}</p>
                                        </div>
                                    </div>
                                </CardContent>
                            </Card>

                            <Card className="glass-card neomorphic hover:animate-float transition-all duration-300">
                                <CardContent className="p-6">
                                    <div className="flex items-center space-x-4">
                                        <BookOpenIcon className="h-8 w-8 text-pharm-blue-500" />
                                        <div>
                                            <p className="text-sm text-gray-500">Materials</p>
                                            <p className="text-2xl font-bold text-pharm-blue-800">{files.length}</p>
                                        </div>
                                    </div>
                                </CardContent>
                            </Card>

                            <Card className="glass-card neomorphic hover:animate-float transition-all duration-300">
                                <CardContent className="p-6">
                                    <div className="flex items-center space-x-4">
                                        <VideoIcon className="h-8 w-8 text-pharm-blue-500" />
                                        <div>
                                            <p className="text-sm text-gray-500">Live Sessions</p>
                                            <p className="text-2xl font-bold text-pharm-blue-800">1</p>
                                        </div>
                                    </div>
                                </CardContent>
                            </Card>

                            <Card className="glass-card neomorphic hover:animate-float transition-all duration-300">
                                <CardContent className="p-6">
                                    <div className="flex items-center space-x-4">
                                        <UserIcon className="h-8 w-8 text-pharm-blue-500" />
                                        <div>
                                            <p className="text-sm text-gray-500">Year Group</p>
                                            <p className="text-2xl font-bold text-pharm-blue-800">{user.yearGroup}</p>
                                        </div>
                                    </div>
                                </CardContent>
                            </Card>
                        </div>

                        {/* Today's Classes Alert */}
                        {todayClasses.length > 0 && (
                            <Card className="glass-card neomorphic mb-8 border-l-4 border-l-pharm-blue-500">
                                <CardHeader>
                                    <CardTitle className="text-pharm-blue-800 flex items-center">
                                        <ClockIcon className="w-5 h-5 mr-2" />
                                        Today's Schedule
                                    </CardTitle>
                                </CardHeader>
                                <CardContent>
                                    <div className="space-y-2">
                                        {todayClasses.map((entry) => (
                                            <div key={entry.id} className="flex items-center justify-between p-3 neomorphic-inset rounded-lg">
                                                <div>
                                                    <p className="font-semibold text-pharm-blue-800">{entry.subject}</p>
                                                    <p className="text-sm text-gray-500">{entry.instructor} • {entry.location}</p>
                                                </div>
                                                <Badge variant="outline">{entry.time}</Badge>
                                            </div>
                                        ))}
                                    </div>
                                </CardContent>
                            </Card>
                        )}

                        {/* Main Content */}
                        <Card className="glass-card neomorphic">
                            <CardHeader>
                                <CardTitle className="text-2xl text-pharm-blue-800">Your Dashboard</CardTitle>
                                <CardDescription>Access your educational resources and tools</CardDescription>
                            </CardHeader>
                            <CardContent>
                                <Tabs defaultValue="timetable" className="w-full">
                                    <TabsList className="grid w-full grid-cols-3 neomorphic">
                                        <TabsTrigger value="timetable">
                                            <CalendarIcon className="w-4 h-4 mr-2" />
                                            Timetable
                                        </TabsTrigger>
                                        <TabsTrigger value="materials">
                                            <DownloadIcon className="w-4 h-4 mr-2" />
                                            Materials
                                        </TabsTrigger>
                                        <TabsTrigger value="conference">
                                            <VideoIcon className="w-4 h-4 mr-2" />
                                            Live Session
                                        </TabsTrigger>
                                    </TabsList>

                                    <TabsContent value="timetable" className="mt-6">
                                        <Card className="neomorphic">
                                            <CardHeader>
                                                <CardTitle>Weekly Timetable</CardTitle>
                                                <CardDescription>Your class schedule for {user.yearGroup}</CardDescription>
                                            </CardHeader>
                                            <CardContent>
                                                {timetable.length > 0 ? (
                                                    <div className="space-y-4">
                                                        {timetable.map((entry) => (
                                                            <div key={entry.id} className="p-4 neomorphic-inset rounded-lg">
                                                                <div className="flex items-center justify-between">
                                                                    <div className="flex-1">
                                                                        <div className="flex items-center space-x-4">
                                                                            <Badge className="pharm-gradient text-white">{entry.day}</Badge>
                                                                            <span className="font-semibold text-pharm-blue-800">{entry.subject}</span>
                                                                        </div>
                                                                        <p className="text-sm text-gray-500 mt-1">
                                                                            {entry.instructor} • {entry.location} • {entry.time}
                                                                        </p>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        ))}
                                                    </div>
                                                ) : (
                                                    <div className="text-center p-8 neomorphic-inset rounded-lg">
                                                        <CalendarIcon className="h-16 w-16 text-pharm-blue-500 mx-auto mb-4" />
                                                        <p className="text-gray-500">No classes scheduled yet</p>
                                                    </div>
                                                )}
                                            </CardContent>
                                        </Card>
                                    </TabsContent>

                                    <TabsContent value="materials" className="mt-6">
                                        <Card className="neomorphic">
                                            <CardHeader>
                                                <CardTitle>Study Materials</CardTitle>
                                                <CardDescription>Download resources for {user.yearGroup}</CardDescription>
                                            </CardHeader>
                                            <CardContent>
                                                {files.length > 0 ? (
                                                    <div className="space-y-4">
                                                        {files.map((file, index) => (
                                                            <div key={index} className="flex items-center justify-between p-4 neomorphic-inset rounded-lg">
                                                                <div className="flex items-center space-x-4">
                                                                    <BookOpenIcon className="h-8 w-8 text-pharm-blue-500" />
                                                                    <div>
                                                                        <p className="font-semibold text-pharm-blue-800">{file.name}</p>
                                                                        <p className="text-sm text-gray-500">
                                                                            Uploaded: {new Date(file.uploadDate).toLocaleDateString()}
                                                                        </p>
                                                                    </div>
                                                                </div>
                                                                <Button 
                                                                    onClick={() => downloadFile(file.name)}
                                                                    variant="outline" 
                                                                    className="neomorphic"
                                                                >
                                                                    <DownloadIcon className="w-4 h-4 mr-2" />
                                                                    Download
                                                                </Button>
                                                            </div>
                                                        ))}
                                                    </div>
                                                ) : (
                                                    <div className="text-center p-8 neomorphic-inset rounded-lg">
                                                        <BookOpenIcon className="h-16 w-16 text-pharm-blue-500 mx-auto mb-4" />
                                                        <p className="text-gray-500">No study materials available yet</p>
                                                    </div>
                                                )}
                                            </CardContent>
                                        </Card>
                                    </TabsContent>

                                    <TabsContent value="conference" className="mt-6">
                                        <Card className="neomorphic">
                                            <CardHeader>
                                                <CardTitle>Live Conference</CardTitle>
                                                <CardDescription>Join video sessions for {user.yearGroup}</CardDescription>
                                            </CardHeader>
                                            <CardContent>
                                                <div className="text-center p-8 border-2 border-dashed border-pharm-blue-300 rounded-lg neomorphic-inset">
                                                    <VideoIcon className="h-16 w-16 text-pharm-blue-500 mx-auto mb-4" />
                                                    <h3 className="text-lg font-semibold text-pharm-blue-800 mb-2">Join Live Session</h3>
                                                    <p className="text-gray-500 mb-4">Connect with your classmates and instructor</p>
                                                    <Button onClick={joinConference} className="pharm-gradient pharm-gradient-hover text-white neomorphic">
                                                        Join Conference
                                                    </Button>
                                                </div>
                                            </CardContent>
                                        </Card>
                                    </TabsContent>
                                </Tabs>
                            </CardContent>
                        </Card>
                    </div>
                </div>
            );
        };

        const AdminDashboard = ({ user, onLogout }) => {
            const [timetableEntry, setTimetableEntry] = useState({
                day: '',
                time: '',
                subject: '',
                instructor: '',
                location: ''
            });
            const [uploadedFiles, setUploadedFiles] = useState([]);
            const { toast } = useToast();

            const handleTimetableSubmit = (e) => {
                e.preventDefault();
                
                const existingTimetable = JSON.parse(localStorage.getItem(`timetable_${user.yearGroup}`) || '[]');
                existingTimetable.push({ ...timetableEntry, id: Date.now() });
                localStorage.setItem(`timetable_${user.yearGroup}`, JSON.stringify(existingTimetable));
                
                toast({
                    title: "Timetable Updated",
                    description: "New class has been added to the timetable",
                });
                
                setTimetableEntry({ day: '', time: '', subject: '', instructor: '', location: '' });
            };

            const handleFileUpload = (e) => {
                const files = e.target.files;
                if (files) {
                    const fileNames = Array.from(files).map(file => file.name);
                    setUploadedFiles([...uploadedFiles, ...fileNames]);
                    
                    const existingFiles = JSON.parse(localStorage.getItem(`files_${user.yearGroup}`) || '[]');
                    const newFiles = fileNames.map(name => ({ name, uploadDate: new Date().toISOString() }));
                    localStorage.setItem(`files_${user.yearGroup}`, JSON.stringify([...existingFiles, ...newFiles]));
                    
                    toast({
                        title: "Files Uploaded",
                        description: `${fileNames.length} file(s) uploaded successfully`,
                    });
                }
            };

            const startConference = () => {
                toast({
                    title: "Conference Starting",
                    description: "Video conference link has been generated for your year group",
                });
            };

            return (
                <div className="min-h-screen p-6">
                    <div className="max-w-7xl mx-auto">
                        {/* Header */}
                        <div className="flex justify-between items-center mb-8">
                            <div className="flex items-center space-x-4">
                                <div className="w-12 h-12 rounded-full pharm-gradient flex items-center justify-center animate-glow">
                                    <span className="text-xl font-bold text-white">Rx</span>
                                </div>
                                <div>
                                    <h1 className="text-3xl font-bold text-pharm-blue-800">Admin Dashboard</h1>
                                    <p className="text-pharm-blue-600">Managing {user.yearGroup}</p>
                                </div>
                            </div>
                            <div className="flex items-center space-x-4">
                                <Badge className="pharm-gradient text-white px-3 py-1">
                                    {user.username} - {user.yearGroup}
                                </Badge>
                                <Button onClick={onLogout} variant="outline" className="neomorphic">
                                    Logout
                                </Button>
                            </div>
                        </div>

                        {/* Stats Cards */}
                        <div className="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
                            <Card className="glass-card neomorphic hover:animate-float transition-all duration-300">
                                <CardContent className="p-6">
                                    <div className="flex items-center space-x-4">
                                        <UsersIcon className="h-8 w-8 text-pharm-blue-500" />
                                        <div>
                                            <p className="text-sm text-gray-500">Students</p>
                                            <p className="text-2xl font-bold text-pharm-blue-800">24</p>
                                        </div>
                                    </div>
                                </CardContent>
                            </Card>

                            <Card className="glass-card neomorphic hover:animate-float transition-all duration-300">
                                <CardContent className="p-6">
                                    <div className="flex items-center space-x-4">
                                        <BookOpenIcon className="h-8 w-8 text-pharm-blue-500" />
                                        <div>
                                            <p className="text-sm text-gray-500">Materials</p>
                                            <p className="text-2xl font-bold text-pharm-blue-800">{uploadedFiles.length}</p>
                                        </div>
                                    </div>
                                </CardContent>
                            </Card>

                            <Card className="glass-card neomorphic hover:animate-float transition-all duration-300">
                                <CardContent className="p-6">
                                    <div className="flex items-center space-x-4">
                                        <ClockIcon className="h-8 w-8 text-pharm-blue-500" />
                                        <div>
                                            <p className="text-sm text-gray-500">Classes Today</p>
                                            <p className="text-2xl font-bold text-pharm-blue-800">3</p>
                                        </div>
                                    </div>
                                </CardContent>
                            </Card>

                            <Card className="glass-card neomorphic hover:animate-float transition-all duration-300">
                                <CardContent className="p-6">
                                    <div className="flex items-center space-x-4">
                                        <VideoIcon className="h-8 w-8 text-pharm-blue-500" />
                                        <div>
                                            <p className="text-sm text-gray-500">Live Sessions</p>
                                            <p className="text-2xl font-bold text-pharm-blue-800">1</p>
                                        </div>
                                    </div>
                                </CardContent>
                            </Card>
                        </div>

                        {/* Main Content */}
                        <Card className="glass-card neomorphic">
                            <CardHeader>
                                <CardTitle className="text-2xl text-pharm-blue-800">Admin Tools</CardTitle>
                                <CardDescription>Manage your year group's educational resources</CardDescription>
                            </CardHeader>
                            <CardContent>
                                <Tabs defaultValue="timetable" className="w-full">
                                    <TabsList className="grid w-full grid-cols-3 neomorphic">
                                        <TabsTrigger value="timetable">
                                            <CalendarIcon className="w-4 h-4 mr-2" />
                                            Timetable
                                        </TabsTrigger>
                                        <TabsTrigger value="materials">
                                            <UploadIcon className="w-4 h-4 mr-2" />
                                            Materials
                                        </TabsTrigger>
                                        <TabsTrigger value="conference">
                                            <VideoIcon className="w-4 h-4 mr-2" />
                                            Conference
                                        </TabsTrigger>
                                    </TabsList>

                                    <TabsContent value="timetable" className="mt-6">
                                        <Card className="neomorphic">
                                            <CardHeader>
                                                <CardTitle>Add Class to Timetable</CardTitle>
                                                <CardDescription>Schedule a new class for {user.yearGroup}</CardDescription>
                                            </CardHeader>
                                            <CardContent>
                                                <form onSubmit={handleTimetableSubmit} className="space-y-4">
                                                    <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                                                        <div className="space-y-2">
                                                            <Label htmlFor="day">Day</Label>
                                                            <Input
                                                                id="day"
                                                                value={timetableEntry.day}
                                                                onChange={(e) => setTimetableEntry({...timetableEntry, day: e.target.value})}
                                                                placeholder="e.g., Monday"
                                                                className="neomorphic-inset"
                                                                required
                                                            />
                                                        </div>
                                                        <div className="space-y-2">
                                                            <Label htmlFor="time">Time</Label>
                                                            <Input
                                                                id="time"
                                                                value={timetableEntry.time}
                                                                onChange={(e) => setTimetableEntry({...timetableEntry, time: e.target.value})}
                                                                placeholder="e.g., 09:00 - 10:30"
                                                                className="neomorphic-inset"
                                                                required
                                                            />
                                                        </div>
                                                        <div className="space-y-2">
                                                            <Label htmlFor="subject">Subject</Label>
                                                            <Input
                                                                id="subject"
                                                                value={timetableEntry.subject}
                                                                onChange={(e) => setTimetableEntry({...timetableEntry, subject: e.target.value})}
                                                                placeholder="e.g., Pharmacology"
                                                                className="neomorphic-inset"
                                                                required
                                                            />
                                                        </div>
                                                        <div className="space-y-2">
                                                            <Label htmlFor="instructor">Instructor</Label>
                                                            <Input
                                                                id="instructor"
                                                                value={timetableEntry.instructor}
                                                                onChange={(e) => setTimetableEntry({...timetableEntry, instructor: e.target.value})}
                                                                placeholder="e.g., Dr. Smith"
                                                                className="neomorphic-inset"
                                                                required
                                                            />
                                                        </div>
                                                        <div className="space-y-2 md:col-span-2">
                                                            <Label htmlFor="location">Location</Label>
                                                            <Input
                                                                id="location"
                                                                value={timetableEntry.location}
                                                                onChange={(e) => setTimetableEntry({...timetableEntry, location: e.target.value})}
                                                                placeholder="e.g., Lecture Hall A"
                                                                className="neomorphic-inset"
                                                                required
                                                            />
                                                        </div>
                                                    </div>
                                                    <Button type="submit" className="pharm-gradient pharm-gradient-hover text-white neomorphic">
                                                        Add to Timetable
                                                    </Button>
                                                </form>
                                            </CardContent>
                                        </Card>
                                    </TabsContent>

                                    <TabsContent value="materials" className="mt-6">
                                        <Card className="neomorphic">
                                            <CardHeader>
                                                <CardTitle>Upload Study Materials</CardTitle>
                                                <CardDescription>Share resources with {user.yearGroup} students</CardDescription>
                                            </CardHeader>
                                            <CardContent className="space-y-4">
                                                <div className="space-y-2">
                                                    <Label htmlFor="files">Select Files (PDF, DOCX, PPTX)</Label>
                                                    <Input
                                                        id="files"
                                                        type="file"
                                                        multiple
                                                        accept=".pdf,.docx,.pptx"
                                                        onChange={handleFileUpload}
                                                        className="neomorphic-inset"
                                                    />
                                                </div>
                                                
                                                {uploadedFiles.length > 0 && (
                                                    <div className="space-y-2">
                                                        <Label>Uploaded Files:</Label>
                                                        <div className="space-y-2">
                                                            {uploadedFiles.map((file, index) => (
                                                                <Badge key={index} variant="secondary" className="mr-2">
                                                                    {file}
                                                                </Badge>
                                                            ))}
                                                        </div>
                                                    </div>
                                                )}
                                            </CardContent>
                                        </Card>
                                    </TabsContent>

                                    <TabsContent value="conference" className="mt-6">
                                        <Card className="neomorphic">
                                            <CardHeader>
                                                <CardTitle>Video Conference</CardTitle>
                                                <CardDescription>Host live sessions for {user.yearGroup}</CardDescription>
                                            </CardHeader>
                                            <CardContent className="space-y-4">
                                                <div className="text-center p-8 border-2 border-dashed border-pharm-blue-300 rounded-lg neomorphic-inset">
                                                    <VideoIcon className="h-16 w-16 text-pharm-blue-500 mx-auto mb-4" />
                                                    <h3 className="text-lg font-semibold text-pharm-blue-800 mb-2">Start Live Conference</h3>
                                                    <p className="text-gray-500 mb-4">Create a video conference for your students</p>
                                                    <Button onClick={startConference} className="pharm-gradient pharm-gradient-hover text-white neomorphic">
                                                        Start Conference
                                                    </Button>
                                                </div>
                                            </CardContent>
                                        </Card>
                                    </TabsContent>
                                </Tabs>
                            </CardContent>
                        </Card>
                    </div>
                </div>
            );
        };

        // Main App Component
        const App = () => {
            const [user, setUser] = useState(null);

            const handleLogin = (loggedInUser) => {
                setUser(loggedInUser);
            };

            const handleLogout = () => {
                setUser(null);
            };

            if (!user) {
                return <AuthForm onLogin={handleLogin} />;
            }

            if (user.role === 'admin') {
                return <AdminDashboard user={user} onLogout={handleLogout} />;
            }

            return <StudentDashboard user={user} onLogout={handleLogout} />;
        };

        // Render the app
        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(
            <ToastProvider>
                <App />
            </ToastProvider>
        );
    </script>
</body>
</html>
